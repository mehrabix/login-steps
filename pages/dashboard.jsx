import Link from "next/link";
import { useContext, useState } from "react";
import ModalFrame from "../components/Modals/ModalFrame";
import EditProduct from "../components/Modals/EditProduct";
import { UserProductDataContext } from "../components/UserProductDataProvider";


const Dashboard = () => {

 

    const [productData, setProductData] = useContext(UserProductDataContext)
    const [showEditModal, setShowEditModal] = useState(false)



    const handleEditProduct = () => {
        setShowEditModal(true)
    }
    const handleOnClickAround = () => {
        setShowEditModal(false)
    }


    return (
        <>
            
            <ModalFrame onClick={() => handleOnClickAround()} showModal={showEditModal} >
                <EditProduct />
            </ModalFrame>
            <div dir="rtl" className="flex w-full font-Shabnam text-right ">
              
                <div className="w-[18%] bg-white h-screen p-4">
                    <h3 className="mb-6">محصولات</h3>
                    <ul className="items-center gap-y-1  flex flex-col">
                        <Link href="#">
                            <li className="bg-[#DFEAFF] cursor-pointer w-full text-[#2169F5 px-4 py-2 rounded-md text-[#2169F5] ]">همه محصولات</li>

                        </Link>
                        <Link href="#">
                            <li className=" w-full text-[#2169F5 cursor-pointer px-4 py-2 rounded-md text-black ]">افزودن محصول</li>

                        </Link>
                        <Link href="#">
                            <li className=" w-full text-[#2169F5 cursor-pointer px-4 py-2 rounded-md text-black ]">محصولات ارسال شده</li>

                        </Link>

                    </ul>
                </div>
                <div className="w-[82%] bg-[#F2F6FB]  h-screen">

                    <div className="pt-16 px-10 h-full space-y-5">
                        <div className="flex justify-between">
                            <div className="flex justify-start gap-x-3 items-center w-[22%]">
                                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <g clip-path="url(#clip0_419_25)">
                                        <path d="M17.7798 16.7197L13.3031 12.243C14.5231 10.7509 15.1229 8.84703 14.9785 6.92513C14.8341 5.00323 13.9565 3.21036 12.5273 1.91735C11.0981 0.624342 9.22654 -0.0698723 7.29982 -0.0216984C5.37311 0.0264755 3.53862 0.813351 2.1758 2.17617C0.812985 3.53899 0.0261092 5.37348 -0.0220646 7.30019C-0.0702385 9.2269 0.623975 11.0984 1.91698 12.5276C3.20999 13.9569 5.00287 14.8344 6.92476 14.9788C8.84666 15.1232 10.7505 14.5234 12.2426 13.3035L16.7193 17.7802C16.8608 17.9168 17.0502 17.9924 17.2469 17.9907C17.4435 17.989 17.6317 17.9101 17.7707 17.7711C17.9098 17.632 17.9886 17.4439 17.9904 17.2473C17.9921 17.0506 17.9165 16.8612 17.7798 16.7197ZM7.49959 13.5C6.3129 13.5 5.15287 13.1481 4.16617 12.4888C3.17948 11.8295 2.41044 10.8924 1.95632 9.79606C1.50219 8.6997 1.38337 7.4933 1.61488 6.32942C1.84639 5.16553 2.41784 4.09643 3.25695 3.25732C4.09607 2.4182 5.16516 1.84676 6.32905 1.61525C7.49294 1.38374 8.69934 1.50256 9.79569 1.95668C10.8921 2.41081 11.8291 3.17984 12.4884 4.16654C13.1477 5.15323 13.4996 6.31327 13.4996 7.49996C13.4978 9.09071 12.8651 10.6158 11.7403 11.7406C10.6154 12.8655 9.09034 13.4982 7.49959 13.5Z" fill="#808080" />
                                    </g>
                                    <defs>
                                        <clipPath id="clip0_419_25">
                                            <rect width="18" height="18" fill="white" />
                                        </clipPath>
                                    </defs>
                                </svg>
                                <input placeholder="جستجو..." className="bg-white text-[#757575] w-full p-2 rounded-md focus:outline-[#757575]"></input>
                            </div>
                            <button className="bg-black text-white px-8 rounded-md">افزودن محصول</button>
                        </div>
                        <div className="flex flex-col rounded-b-md overflow-hidden">
                            <div className="flex w-full text-[rgb(180,194,216)] rounded-t-md border-b  bg-white py-5 px-10 items-center">
                                <div className="w-[9%]">
                                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <g clip-path="url(#clip0_419_33)">
                                            <path d="M14.25 0H3.75C2.7558 0.00119089 1.80267 0.396661 1.09966 1.09966C0.396661 1.80267 0.00119089 2.7558 0 3.75L0 14.25C0.00119089 15.2442 0.396661 16.1973 1.09966 16.9003C1.80267 17.6033 2.7558 17.9988 3.75 18H14.25C15.2442 17.9988 16.1973 17.6033 16.9003 16.9003C17.6033 16.1973 17.9988 15.2442 18 14.25V3.75C17.9988 2.7558 17.6033 1.80267 16.9003 1.09966C16.1973 0.396661 15.2442 0.00119089 14.25 0V0ZM3.75 1.5H14.25C14.8467 1.5 15.419 1.73705 15.841 2.15901C16.2629 2.58097 16.5 3.15326 16.5 3.75V14.25C16.4987 14.5841 16.4218 14.9136 16.275 15.2137L9.40275 8.3415C9.05452 7.99318 8.64108 7.71686 8.18604 7.52835C7.73101 7.33983 7.24329 7.2428 6.75075 7.2428C6.25821 7.2428 5.77049 7.33983 5.31546 7.52835C4.86042 7.71686 4.44698 7.99318 4.09875 8.3415L1.5 10.9395V3.75C1.5 3.15326 1.73705 2.58097 2.15901 2.15901C2.58097 1.73705 3.15326 1.5 3.75 1.5ZM3.75 16.5C3.15326 16.5 2.58097 16.2629 2.15901 15.841C1.73705 15.419 1.5 14.8467 1.5 14.25V13.0605L5.1585 9.402C5.36745 9.19292 5.61555 9.02705 5.88863 8.91389C6.16171 8.80073 6.4544 8.74248 6.75 8.74248C7.0456 8.74248 7.33829 8.80073 7.61137 8.91389C7.88445 9.02705 8.13255 9.19292 8.3415 9.402L15.2137 16.275C14.9136 16.4218 14.5841 16.4987 14.25 16.5H3.75Z" fill="#B4C2D8" />
                                            <path d="M12 7.875C12.5192 7.875 13.0267 7.72105 13.4584 7.43261C13.8901 7.14417 14.2265 6.7342 14.4252 6.25454C14.6239 5.77489 14.6759 5.24709 14.5746 4.73789C14.4733 4.22869 14.2233 3.76096 13.8562 3.39385C13.489 3.02673 13.0213 2.77673 12.5121 2.67544C12.0029 2.57415 11.4751 2.62614 10.9955 2.82482C10.5158 3.0235 10.1058 3.35995 9.81739 3.79163C9.52895 4.22331 9.375 4.73082 9.375 5.25C9.375 5.94619 9.65156 6.61387 10.1438 7.10616C10.6361 7.59844 11.3038 7.875 12 7.875ZM12 4.125C12.2225 4.125 12.44 4.19098 12.625 4.3146C12.81 4.43821 12.9542 4.61392 13.0394 4.81948C13.1245 5.02505 13.1468 5.25125 13.1034 5.46948C13.06 5.68771 12.9528 5.88816 12.7955 6.0455C12.6382 6.20283 12.4377 6.30998 12.2195 6.35338C12.0012 6.39679 11.7751 6.37451 11.5695 6.28936C11.3639 6.20422 11.1882 6.06002 11.0646 5.87502C10.941 5.69001 10.875 5.4725 10.875 5.25C10.875 4.95163 10.9935 4.66548 11.2045 4.45451C11.4155 4.24353 11.7016 4.125 12 4.125Z" fill="#B4C2D8" />
                                        </g>
                                        <defs>
                                            <clipPath id="clip0_419_33">
                                                <rect width="18" height="18" fill="white" />
                                            </clipPath>
                                        </defs>
                                    </svg>
                                </div>
                                <div className="w-[34%]">نام محصول</div>
                                <div className="w-[19%]">قیمت</div>
                                <div className="w-[19%]">دسته بندی</div>
                                <div className="w-[19%]">تاریخ انتشار</div>
                            </div>
                            {
                                productData.map((item,index) => {
                                    return (
                                        <>
                                            <div key={item.id} className={`flex w-full group py-5 pr-28 items-center  ${

                                           
                                                index % 2 === 0 ? 'bg-[#F9F9F9]' : 'bg-white'


                                                
                                            }`}>
                                                <p className="w-[39%] text-[#2169F5]">{ item.name}</p>
                                                <p className="w-[20%] ">{ item.price} </p>
                                                <p className="w-[19%] ">{item.group} </p>
                                                <p className="w-[14%] ">{item.releaseDate} </p>
                                                <div className=" gap-x-2 hidden group-hover:flex">
                                                    <button onClick={() =>handleEditProduct()}>
                                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                            <g clip-path="url(#clip0_451_204)">
                                                                <path d="M22.853 1.14795C22.1732 0.469151 21.2517 0.0878906 20.291 0.0878906C19.3303 0.0878906 18.4089 0.469151 17.729 1.14795L1.46501 17.412C0.999266 17.8751 0.629977 18.426 0.378513 19.0327C0.127049 19.6395 -0.00159798 20.2901 1.49812e-05 20.947V23C1.49812e-05 23.2652 0.105372 23.5195 0.292908 23.7071C0.480445 23.8946 0.734798 24 1.00001 24H3.05301C3.70978 24.0018 4.36038 23.8734 4.96717 23.6221C5.57396 23.3708 6.12487 23.0016 6.58801 22.536L22.853 6.27095C23.5315 5.59115 23.9126 4.66992 23.9126 3.70945C23.9126 2.74899 23.5315 1.82776 22.853 1.14795ZM5.17401 21.122C4.61002 21.6822 3.84798 21.9977 3.05301 22H2.00001V20.947C1.999 20.5529 2.07617 20.1625 2.22705 19.7984C2.37793 19.4343 2.59953 19.1038 2.87901 18.826L15.222 6.48295L17.522 8.78296L5.17401 21.122ZM21.438 4.85695L18.932 7.36395L16.632 5.06895L19.139 2.56195C19.29 2.41126 19.4693 2.29179 19.6664 2.21036C19.8636 2.12893 20.0749 2.08714 20.2883 2.08738C20.5016 2.08761 20.7128 2.12986 20.9098 2.21172C21.1069 2.29357 21.2858 2.41343 21.4365 2.56445C21.5872 2.71547 21.7067 2.8947 21.7881 3.09189C21.8695 3.28908 21.9113 3.50038 21.9111 3.71372C21.9109 3.92706 21.8686 4.13827 21.7867 4.33529C21.7049 4.5323 21.585 4.71126 21.434 4.86195L21.438 4.85695Z" fill="#2169F5" />
                                                            </g>
                                                            <defs>
                                                                <clipPath id="clip0_451_204">
                                                                    <rect width="24" height="24" fill="white" />
                                                                </clipPath>
                                                            </defs>
                                                        </svg>

                                                    </button>
                                                    <button><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <g clip-path="url(#clip0_451_206)">
                                                            <path d="M21 4H17.9C17.6679 2.87141 17.0538 1.85735 16.1613 1.12872C15.2687 0.40009 14.1522 0.00145452 13 0L11 0C9.8478 0.00145452 8.73132 0.40009 7.83875 1.12872C6.94618 1.85735 6.3321 2.87141 6.1 4H3C2.73478 4 2.48043 4.10536 2.29289 4.29289C2.10536 4.48043 2 4.73478 2 5C2 5.26522 2.10536 5.51957 2.29289 5.70711C2.48043 5.89464 2.73478 6 3 6H4V19C4.00159 20.3256 4.52888 21.5964 5.46622 22.5338C6.40356 23.4711 7.67441 23.9984 9 24H15C16.3256 23.9984 17.5964 23.4711 18.5338 22.5338C19.4711 21.5964 19.9984 20.3256 20 19V6H21C21.2652 6 21.5196 5.89464 21.7071 5.70711C21.8946 5.51957 22 5.26522 22 5C22 4.73478 21.8946 4.48043 21.7071 4.29289C21.5196 4.10536 21.2652 4 21 4ZM11 2H13C13.6203 2.00076 14.2251 2.19338 14.7316 2.55144C15.2381 2.90951 15.6214 3.41549 15.829 4H8.171C8.37858 3.41549 8.7619 2.90951 9.26839 2.55144C9.77488 2.19338 10.3797 2.00076 11 2ZM18 19C18 19.7956 17.6839 20.5587 17.1213 21.1213C16.5587 21.6839 15.7957 22 15 22H9C8.20435 22 7.44129 21.6839 6.87868 21.1213C6.31607 20.5587 6 19.7956 6 19V6H18V19Z" fill="#CE1515" />
                                                            <path d="M10 18C10.2652 18 10.5196 17.8946 10.7071 17.7071C10.8946 17.5196 11 17.2652 11 17V11C11 10.7348 10.8946 10.4804 10.7071 10.2929C10.5196 10.1054 10.2652 10 10 10C9.73478 10 9.48043 10.1054 9.29289 10.2929C9.10536 10.4804 9 10.7348 9 11V17C9 17.2652 9.10536 17.5196 9.29289 17.7071C9.48043 17.8946 9.73478 18 10 18Z" fill="#CE1515" />
                                                            <path d="M14 18C14.2652 18 14.5196 17.8946 14.7071 17.7071C14.8947 17.5196 15 17.2652 15 17V11C15 10.7348 14.8947 10.4804 14.7071 10.2929C14.5196 10.1054 14.2652 10 14 10C13.7348 10 13.4804 10.1054 13.2929 10.2929C13.1054 10.4804 13 10.7348 13 11V17C13 17.2652 13.1054 17.5196 13.2929 17.7071C13.4804 17.8946 13.7348 18 14 18Z" fill="#CE1515" />
                                                        </g>
                                                        <defs>
                                                            <clipPath id="clip0_451_206">
                                                                <rect width="24" height="24" fill="white" />
                                                            </clipPath>
                                                        </defs>
                                                    </svg>
                                                    </button>
                                                </div>



                                            </div>
                        </>
                                    )
                                })
                         }
                           
                        </div>
                    </div>



                </div>
            </div>
            </>
    );
}
export default Dashboard;